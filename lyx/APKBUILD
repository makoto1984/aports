# Contributor:
# Maintainer:
pkgname=lyx
pkgver=2.3.4.4
pkgrel=0
pkgdesc="WYSIWYM document processor"
url="https://www.lyx.org"
arch="all"
license="GPL-2"
depends="qt5-qtsvg hunspell aspell enchant2 mythes"
makedepends="qt5-qtsvg-dev file-dev hunspell-dev aspell-dev enchant2-dev mythes-dev"
install=""
subpackages="$pkgname-doc $pkgname-lang"
#source="https://ftp.lip6.fr/pub/lyx/stable/2.3.x/lyx-2.3.4.4.tar.gz"
source="https://mirrors.tuna.tsinghua.edu.cn/lyx/stable/2.3.x/lyx-2.3.4.4.tar.gz"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var \
		--enable-qt5
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="7c088b8a1d207434d09be338edaff9e16a397c9b0a6c1a769548baf5fa590225dec41baa7993ca2d0571bb62261af8b8a139ec5f3c3588a6c3d9ad213ae6f562  lyx-2.3.4.4.tar.gz"
