# Contributor:
# Maintainer:
pkgname=lyx
pkgver=2.3.4.3
pkgrel=0
pkgdesc="WYSIWYM document processor"
url="https://www.lyx.org"
arch="all"
license="GPL-2"
depends="qt5-qtsvg hunspell aspell enchant2 mythes"
makedepends="qt5-qtsvg-dev file-dev hunspell-dev aspell-dev enchant2-dev mythes-dev"
install=""
subpackages="$pkgname-doc $pkgname-lang"
source="https://ftp.lip6.fr/pub/lyx/stable/2.3.x/lyx-2.3.4.3.tar.gz"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var \
		--enable-qt5
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="a1662e5fc6e6e9bb4adb12a1b5ca41878a8c5b6551bb633255c945ddc8c133f2d73a4fdbfc862221623e2a72a767d286e1715de01ea7c0e7493781735ed60fc2  lyx-2.3.4.3.tar.gz"
