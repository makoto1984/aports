# Contributor:
# Maintainer:
pkgname=ibus-libpinyin
pkgver=1.12.1
pkgrel=0
pkgdesc="Chinese input method libpinyin IMEngine for IBus Framework"
url="https://github.com/libpinyin/ibus-libpinyin"
arch="all"
license="GPL-2.0"
depends="ibus libpinyin sqlite libsoup json-glib opencc lua5.1-libs"
makedepends="ibus-dev libpinyin-dev libsoup-dev json-glib-dev intltool opencc-dev lua5.1-dev"
install=""
subpackages="$pkgname-lang"
source="https://github.com/libpinyin/ibus-libpinyin/releases/download/1.12.1/ibus-libpinyin-1.12.1.tar.gz"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var \
		--enable-opencc \
		--enable-cloud-input-mode
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="
9f6e692143c9716ce9a019af043d964655b3d7c11004d4c83364418600c4741c8f70e421544f90cce0aa42d463464357108c65758c5dcfe778a8dfa34d55c735  ibus-libpinyin-1.12.1.tar.gz
"
