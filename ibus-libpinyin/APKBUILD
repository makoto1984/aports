# Contributor:
# Maintainer:
pkgname=ibus-libpinyin
pkgver=1.11.92
pkgrel=0
pkgdesc="Chinese input method libpinyin IMEngine for IBus Framework"
url="https://github.com/libpinyin/ibus-libpinyin"
arch="all"
license="GPL-2.0"
depends="ibus libpinyin sqlite"
makedepends="ibus-dev libpinyin-dev sqlite-dev intltool"
install=""
subpackages="$pkgname-lang"
source="https://github.com/libpinyin/ibus-libpinyin/releases/download/1.11.92/ibus-libpinyin-1.11.92.tar.gz"
builddir="$srcdir/$pkgname-$pkgver"

export IBUS_CFLAGS='-I/usr/include/ibus-1.0'
export IBUS_LIBS='-libus-1.0 -lgio-2.0 -lgobject-2.0'

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="0dca9db0925738bd0cba313895aaadf0d831d3003f36b41edfafa0231ccd84573c9d9090cd3770b815030b98297041e3dd2e9a55b4dec99552e344a0bc0fd118  ibus-libpinyin-1.11.92.tar.gz"
